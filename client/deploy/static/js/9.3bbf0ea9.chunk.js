(this.webpackJsonpheavenx=this.webpackJsonpheavenx||[]).push([[9],{538:function(e,s,t){},589:function(e,s,t){"use strict";t.r(s),t.d(s,"default",(function(){return I}));var i=t(9),a=t(6),n=t.n(a),c=t(12),l=t(2),r=t(1),o=(t(538),t(515)),d=t(241),j=t(14),u=t(8),b=t(534),p=t.n(b),h=t(533),m=t.n(h),O=t(603),x=t(519),v=t(532),g=t(45),f=t(43),N=t(62),w=t(29),S=t(112),y=t(0);function I(){var e,s,t,a=Object(r.useState)(!0),b=Object(l.a)(a,2),h=b[0],I=b[1],k=Object(r.useState)(!1),P=Object(l.a)(k,2),q=P[0],z=P[1],T=Object(g.g)(),C=Object(f.useAuth)(),L=Object(r.useState)(!1),B=Object(l.a)(L,2),D=B[0],E=B[1],J=Object(v.a)(),W=J.register,A=J.handleSubmit,F=J.formState.errors,M=function(){var e=Object(c.a)(n.a.mark((function e(s){var t,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,fetch(u.j+"/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":"".concat(localStorage.getItem(w.a))},body:JSON.stringify({emailId:s.emailId,password:s.password,uniqueCode:s.code,role:h?"client":"supplier"})});case 3:return t=e.sent,e.next=6,t.json();case 6:(i=e.sent).success?(z(!1),C.login(i.data.user,i.data.token),"supplier"===i.data.user.role?T.push("/vendor/home"):T.push("/query")):alert("Error: "+i.msg),z(!1);case 9:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(S.a,{}),Object(y.jsxs)("div",{className:"container-fluid loginpage",children:[Object(y.jsx)(N.a,{Loading:q}),Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{className:"col-4 offset-7",children:Object(y.jsxs)("div",{className:"container-fluid loginBox",children:[Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"col-12 login-header",children:[Object(y.jsx)("h1",{children:"Log in"}),Object(y.jsxs)("div",{className:"login-switch",children:[Object(y.jsx)("div",{className:h?"loginactive":"loginnotactive",onClick:function(){return I(!0)},children:"Client"}),Object(y.jsx)("div",{className:h?"loginnotactive":"loginactive",onClick:function(){return I(!1)},children:"Supplier"})]})]})}),Object(y.jsxs)("form",{onSubmit:A(M),children:[Object(y.jsx)("div",{className:"row mt-2",children:!h&&Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)(o.a,Object(i.a)(Object(i.a)({fullWidth:!0,label:"Supplier Code",variant:"standard",name:"code",id:"code",size:"medium",inputProps:{style:{fontSize:24}},InputLabelProps:{style:{fontSize:24,opacity:.5}}},W("code",{required:"This field is required."})),{},{error:Boolean(F.code),helperText:null===(e=F.code)||void 0===e?void 0:e.message}))})}),Object(y.jsx)("div",{className:"row mt-3",children:Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)(o.a,Object(i.a)(Object(i.a)({fullWidth:!0,label:"Email Id",variant:"standard",name:"emailId",id:"emailId",inputProps:{style:{fontSize:24}},InputLabelProps:{style:{fontSize:24,opacity:.5}}},W("emailId",{required:"This field is required.",pattern:{value:/\S+@\S+\.\S+/,message:"Invalid Email Id."}})),{},{error:Boolean(F.emailId),helperText:null===(s=F.emailId)||void 0===s?void 0:s.message}))})}),Object(y.jsx)("div",{className:"row mt-3",children:Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)(o.a,Object(i.a)(Object(i.a)({fullWidth:!0,type:D?"text":"password",label:"Password",variant:"standard",name:"password",id:"password",inputProps:{style:{fontSize:24}},InputLabelProps:{style:{fontSize:24,opacity:.5}},InputProps:{endAdornment:Object(y.jsx)(O.a,{position:"end",children:Object(y.jsx)(x.a,{"aria-label":"toggle password visibility",onClick:function(){return E((function(e){return!e}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:D?Object(y.jsx)(m.a,{className:"password-visibility-icon"}):Object(y.jsx)(p.a,{className:"password-visibility-icon"})})})}},W("password",{required:"This field is required."})),{},{error:Boolean(F.password),helperText:null===(t=F.password)||void 0===t?void 0:t.message}))})}),Object(y.jsx)("div",{className:"row pt-3",children:Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)(d.a,{type:"submit",className:"login-btn",variant:"contained",color:"success",children:Object(y.jsx)("h4",{className:"login-btn-text",children:"Login"})})})})]}),Object(y.jsxs)("div",{className:"row pt-2",children:[Object(y.jsx)("div",{className:"col-12",children:Object(y.jsxs)("div",{className:"login-signup-text",children:["Don't have an account?"," ",Object(y.jsx)(j.b,{to:u.z,className:"login-signup-link",children:"Sign up"})]})}),Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)("div",{className:"login-signup-text",children:Object(y.jsx)(j.b,{to:u.l,className:"login-signup-link",children:"Forgot Password?"})})})]})]})})})]})]})}}}]);
//# sourceMappingURL=9.3bbf0ea9.chunk.js.map